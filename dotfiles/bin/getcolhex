#!/bin/bash
#
# Gets the hex color or the current X theme
#

function get_col() {
	xrdb -query | sed -n "s/^$1:\s*\#//p" | head -n1
}

echo -n "#"

query=''

arg="$1"

case $arg in
	0|black|black1|k|k1)
		arg=0;;
	1|red|red1|r|r1)
		arg=1;;
	2|green|green1|g|g1)
		arg=2;;
	3|yellow|yellow1|y|y1)
		arg=3;;
	4|blue|blue1|b|b1)
		arg=4;;
	5|magenta|magenta1|m|m1)
		arg=5;;
	6|cyan|cyan1|c|c1)
		arg=6;;
	7|gray|grey|lightgray|lightgrey|lgray|lgrey|gray1|grey1|g|g1)
		arg=7;;
	8|darkgray|darkgrey|gray|dgrey|black2|b2|dg)
		arg=8;;
	9|lightred|lred|lr|red2|r2)
		arg=9;;
	10|lightgreen|lgreen|lg|green2|g2)
		arg=10;;
	11|lightyellow|lyellow|ly|yellow2|y2)
		arg=11;;
	12|lightblue|lblue|lb|blue2|b2)
		arg=12;;
	13|lightmagenta|lmagenta|lm|magenta2|m2)
		arg=13;;
	14|lightcyan|lcyan|lc|cyan2|c2)
		arg=14;;
	15|black2|k2|white|w)
		arg=15;;
	foreground|fg)
		arg='foreground';;
	background|bg)
		arg='background';;
	?)
		echo "Couldn't match color '$1'" >&2
		exit 1
		;;
esac

case $arg in
	0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15)
		query="\*color$arg";;
	foreground|background)
		query="\*$arg";;
esac

get_col "$query"

